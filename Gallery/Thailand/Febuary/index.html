<!DOCTYPE html>
<html lang="en">
<head>
    <title>February in Thailand</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=0" />
    <meta name="description" content="Beautiful photographs from Thailand in February" />
    
    <!-- Open Graph Tags -->
    <meta property="og:description" content="Beautiful photographs from Thailand in February" />
    <meta property="og:image" content="images/_DSC8853_HDR.jpg" />
    <meta property="og:title" content="February in Thailand" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="/" />
    
    <!-- Glide.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.core.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@glidejs/glide/dist/css/glide.theme.min.css">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Sunset theme color palette */
            --sunset-deep: #33032F;
            --sunset-purple: #531253;
            --sunset-magenta: #B01C75;
            --sunset-red: #F74B4B;
            --sunset-orange: #FF7E27;
            --sunset-yellow: #FFE29A;
            --sunset-light: #FFF4E0;
            --sunset-overlay: rgba(51, 3, 47, 0.85);
            --sunset-glass: rgba(176, 28, 117, 0.2);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(135deg, var(--sunset-deep) 0%, var(--sunset-purple) 100%);
            color: var(--sunset-light);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .gallery-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            flex-grow: 1;
            position: relative;
            z-index: 1;
        }
        
        /* Header styles */
        .gallery-header {
            text-align: center;
            padding: 1.5rem 0;
            margin-bottom: 1rem;
            position: relative;
            width: 100%;
        }
        
        .gallery-title {
            font-size: 3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            background: linear-gradient(to right, var(--sunset-yellow), var(--sunset-red));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
            animation: glow 3s ease-in-out infinite alternate;
        }
        
        .gallery-subtitle {
            font-size: 1.2rem;
            color: var(--sunset-orange);
            font-weight: 300;
        }
        
        /* Main gallery styles */
        .gallery-wrapper {
            width: 100%;
            max-width: 1200px;
            position: relative;
            overflow: hidden;
            margin-bottom: 1rem;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: var(--sunset-deep);
        }
        
        .glide__slide {
            height: 70vh;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--sunset-deep);
        }
        
        .glide__slide img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            transition: transform 0.5s ease;
        }
        
        .glide__slide:hover img {
            transform: scale(1.02);
        }
        
        /* Navigation controls */
        .glide__arrows {
            position: absolute;
            top: 50%;
            width: 100%;
            transform: translateY(-50%);
            z-index: 10;
        }
        
        .glide__arrow {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            color: var(--sunset-light);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        .glide__arrow:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--sunset-magenta);
        }
        
        .glide__arrow--left {
            left: 20px;
        }
        
        .glide__arrow--right {
            right: 20px;
        }
        
        /* Bullets/Pagination */
        .glide__bullets {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 5;
        }
        
        .glide__bullet {
            background: rgba(255, 255, 255, 0.3);
            width: 10px;
            height: 10px;
            border-radius: 50%;
            border: none;
            transition: all 0.3s ease;
        }
        
        .glide__bullet:hover,
        .glide__bullet--active {
            background: var(--sunset-orange);
            transform: scale(1.2);
            box-shadow: 0 0 10px var(--sunset-red);
        }
        
        /* Thumbnails */
        .thumbnails-container {
            width: 100%;
            max-width: 1200px;
            position: relative;
            margin-top: 1rem;
            border-radius: 8px;
            overflow: hidden;
            background: rgba(83, 18, 83, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 10px 0;
        }
        
        .thumbnails {
            position: relative;
        }
        
        .thumbnails .glide__slide {
            height: 80px;
            cursor: pointer;
            border-radius: 4px;
            overflow: hidden;
            transition: all 0.3s ease;
            opacity: 0.6;
            border: 2px solid transparent;
            padding: 2px;
        }
        
        .thumbnails .glide__slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .thumbnails .glide__slide--active {
            opacity: 1;
            border-color: var(--sunset-orange);
            box-shadow: 0 0 10px var(--sunset-magenta);
        }
        
        /* Image info overlay */
        .image-info {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 15px;
            background: linear-gradient(to top, var(--sunset-overlay), transparent);
            color: var(--sunset-light);
            transform: translateY(100%);
            transition: transform 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 4;
        }
        
        .glide__slide:hover .image-info {
            transform: translateY(0);
        }
        
        .image-counter {
            font-size: 1rem;
            font-weight: 500;
        }
        
        /* Controls */
        .gallery-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 15px;
            z-index: 10;
        }
        
        .control-btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: var(--sunset-light);
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
            color: var(--sunset-yellow);
            box-shadow: 0 0 15px var(--sunset-magenta);
        }
        
        /* Loader */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--sunset-deep) 0%, var(--sunset-purple) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loader.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .sun-loader {
            width: 80px;
            height: 80px;
            background: linear-gradient(to right, var(--sunset-yellow), var(--sunset-red));
            border-radius: 50%;
            box-shadow: 0 0 40px var(--sunset-orange);
            position: relative;
            animation: rise 2s ease-in-out infinite alternate;
        }
        
        .loader-text {
            position: absolute;
            bottom: 30%;
            font-size: 1.2rem;
            font-weight: 300;
            color: var(--sunset-light);
        }
        
        /* Background effects */
        .bg-gradient {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--sunset-deep) 0%, var(--sunset-purple) 50%, var(--sunset-magenta) 100%);
            opacity: 0.7;
            z-index: -2;
        }
        
        .bg-sun {
            position: fixed;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            width: 200vw;
            height: 200vw;
            background: radial-gradient(circle at center, var(--sunset-orange) 0%, var(--sunset-red) 30%, var(--sunset-magenta) 60%, transparent 70%);
            opacity: 0.2;
            z-index: -1;
            animation: pulse 10s ease-in-out infinite;
        }
        
        /* Fullscreen mode */
        .fullscreen-mode .gallery-header,
        .fullscreen-mode .thumbnails-container {
            display: none;
        }
        
        .fullscreen-mode .gallery-wrapper {
            width: 100vw;
            max-width: 100vw;
            height: 100vh;
            border-radius: 0;
            margin: 0;
        }
        
        .fullscreen-mode .glide__slide {
            height: 100vh;
        }
        
        /* Animations */
        @keyframes glow {
            0% {
                text-shadow: 0 0 5px rgba(255, 126, 39, 0.5);
            }
            100% {
                text-shadow: 0 0 20px rgba(255, 126, 39, 0.8);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 0.2;
                transform: translateX(-50%) scale(1);
            }
            50% {
                opacity: 0.3;
                transform: translateX(-50%) scale(1.05);
            }
        }
        
        @keyframes rise {
            0% {
                transform: translateY(10px);
                box-shadow: 0 0 20px var(--sunset-orange);
            }
            100% {
                transform: translateY(-10px);
                box-shadow: 0 0 40px var(--sunset-red);
            }
        }
        
        /* Responsive adjustments */
        @media (max-width: 992px) {
            .gallery-title {
                font-size: 2.5rem;
            }
            
            .glide__slide {
                height: 60vh;
            }
        }
        
        @media (max-width: 768px) {
            .gallery-title {
                font-size: 2rem;
            }
            
            .gallery-subtitle {
                font-size: 1rem;
            }
            
            .glide__slide {
                height: 50vh;
            }
            
            .thumbnails .glide__slide {
                height: 60px;
            }
            
            .glide__arrow {
                width: 40px;
                height: 40px;
            }
        }
        
        @media (max-width: 576px) {
            .gallery-title {
                font-size: 1.8rem;
            }
            
            .gallery-header {
                padding: 1rem 0;
            }
            
            .glide__slide {
                height: 40vh;
            }
            
            .thumbnails .glide__slide {
                height: 50px;
            }
            
            .glide__arrow {
                width: 35px;
                height: 35px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Loading animation -->
    <div class="loader" id="loader">
        <div class="sun-loader"></div>
        <div class="loader-text">Loading Thailand Gallery...</div>
    </div>
    
    <!-- Background effects -->
    <div class="bg-gradient"></div>
    <div class="bg-sun"></div>
    
    <div class="gallery-container" id="gallery-container">
        <div class="gallery-header">
            <h1 class="gallery-title">February in Thailand</h1>
            <p class="gallery-subtitle">A collection of beautiful moments</p>
        </div>
        
        <!-- Main gallery -->
        <div class="gallery-wrapper">
            <div class="glide" id="main-carousel">
                <div class="glide__track" data-glide-el="track">
                    <ul class="glide__slides" id="main-slides">
                        <!-- Images will be loaded dynamically -->
                    </ul>
                </div>
                
                <!-- Controls -->
                <div class="gallery-controls">
                    <button class="control-btn" id="fullscreen-btn" title="Toggle fullscreen">
                        <i class="fas fa-expand"></i>
                    </button>
                    <button class="control-btn" id="autoplay-btn" title="Toggle slideshow">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
                
                <!-- Navigation arrows -->
                <div class="glide__arrows" data-glide-el="controls">
                    <button class="glide__arrow glide__arrow--left" data-glide-dir="<">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="glide__arrow glide__arrow--right" data-glide-dir=">">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <!-- Pagination bullets -->
                <div class="glide__bullets" data-glide-el="controls[nav]" id="main-bullets">
                    <!-- Bullets will be added dynamically -->
                </div>
            </div>
        </div>
        
        <!-- Thumbnails -->
        <div class="thumbnails-container">
            <div class="glide thumbnails" id="thumbnails-carousel">
                <div class="glide__track" data-glide-el="track">
                    <ul class="glide__slides" id="thumbnail-slides">
                        <!-- Thumbnails will be loaded dynamically -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Glide.js -->
    <script src="https://cdn.jsdelivr.net/npm/@glidejs/glide"></script>
    
    <script>
        // Array of all the images
        const images = [
            '_DSC8853_HDR.jpg', '_DSC8860_HDR.jpg', '_DSC8896_HDR.jpg', '_DSC8902_HDR.jpg',
            '_DSC8916_HDR.jpg', '_DSC8921_HDR.jpg', '_DSC8930_HDR.jpg', '_DSC8940_HDR.jpg',
            '_DSC8967_HDR.jpg', '_DSC8978_HDR.jpg', '_DSC8997_HDR.jpg', '_DSC9017_HDR.jpg',
            '_DSC9031_HDR.jpg', '_DSC9039_HDR.jpg', '_DSC9067_HDR.jpg', '_DSC9081_HDR.jpg',
            '_DSC9089_HDR.jpg', '_DSC9096_HDR.jpg', '_DSC9103_HDR.jpg', '_DSC9115_HDR.jpg',
            '_DSC9151_HDR.jpg', '_DSC9177_HDR.jpg', '_DSC9185_HDR.jpg', '_DSC9192_HDR.jpg',
            '_DSC9198_HDR.jpg', '_DSC9491_HDR.jpg', '_DSC9528_HDR.jpg', '_DSC9552_HDR.jpg',
            '_DSC9563_HDR.jpg', '_DSC9572_HDR.jpg', '_DSC9577_HDR.jpg', '_DSC9603_HDR.jpg',
            '_DSC9617.jpg', '_DSC9646_HDR.jpg', '_DSC9765.jpg', '_DSC9844_HDR.jpg',
            '_DSC9847_HDR.jpg', '_DSC9859_HDR.jpg', '_DSC9864_HDR.jpg', '_DSC9911_HDR.jpg',
            '_DSC9919_HDR.jpg', '_DSC9927_HDR.jpg', '_DSC9939_HDR.jpg', '_DSC9941_HDR.jpg',
            '_DSC9957.jpg', '_DSC9960_HDR.jpg', '_DSC9981_HDR.jpg', '_DSC9984_HDR.jpg',
            '_DSC9990_HDR.jpg', '_DSC9991_HDR.jpg', '_DSC9996_HDR.jpg', '_DSC0005_HDR.jpg',
            '_DSC0012_HDR.jpg', '_DSC0039_HDR.jpg', '_DSC0044_HDR.jpg', '_DSC0054_HDR.jpg',
            '_DSC0060_HDR.jpg', '_DSC0064_HDR.jpg', '_DSC0069_HDR.jpg', '_DSC0075_HDR.jpg',
            '_DSC0080_HDR.jpg', '_DSC0084_HDR.jpg', '_DSC0091.jpg', '_DSC0095_HDR.jpg',
            '_DSC0104_HDR.jpg', '_DSC0111_HDR.jpg', '_DSC0118_HDR.jpg', '_DSC0132_HDR.jpg',
            '_DSC0137_HDR.jpg', '_DSC0140_HDR.jpg', '_DSC0150_HDR.jpg', '_DSC0156_HDR.jpg',
            '_DSC0157_HDR.jpg', '_DSC0167_HDR.jpg', '_DSC0172_HDR.jpg', '_DSC0177_HDR.jpg',
            '_DSC0180_HDR.jpg', '_DSC0188_HDR.jpg', '_DSC0194_HDR.jpg', '_DSC0199_HDR.jpg',
            '_DSC0202_HDR.jpg', '_DSC0208_HDR.jpg', '_DSC0215_HDR.jpg', '_DSC0216_HDR.jpg',
            '_DSC0222_HDR.jpg', '_DSC0229_HDR.jpg', '_DSC0234_HDR.jpg', '_DSC0245_HDR.jpg',
            'IMG_6655.jpg', 'IMG_6656.jpg', 'IMG_6658.jpg', 'IMG_6659.jpg',
            'IMG_6661.jpg', 'IMG_6662.jpg', 'IMG_6663.jpg', 'IMG_6665.jpg',
            'IMG_6667.jpg', 'IMG_6670.jpg', 'IMG_6671.jpg', 'IMG_6672.jpg',
            'IMG_6674.jpg', 'IMG_6675.jpg', 'IMG_6676.jpg', 'IMG_6677.jpg',
            'IMG_6679.jpg', 'IMG_6681.jpg', 'IMG_6682.jpg', 'IMG_6683.jpg',
            'IMG_6684.jpg', 'IMG_6685.jpg', 'IMG_6691.jpg', 'IMG_6692.jpg',
            'IMG_6693.jpg', 'IMG_6694.jpg', 'IMG_6695.jpg', 'IMG_6696.jpg',
            'IMG_6698.jpg', 'IMG_6700.jpg', 'IMG_6701.jpg', 'IMG_6702.jpg',
            'IMG_6703.jpg', 'IMG_6705.jpg', '_DSC0371_HDR.jpg', '_DSC0381_HDR.jpg',
            '_DSC0388_HDR.jpg', '_DSC0395_HDR.jpg', '_DSC0401_HDR.jpg', '_DSC0406_HDR.jpg',
            '_DSC0429_HDR.jpg', '_DSC0433_HDR.jpg', '_DSC0442.jpg', '_DSC0449_HDR.jpg',
            '_DSC0456_HDR.jpg', '_DSC0462_HDR.jpg', '_DSC0470_HDR.jpg', '_DSC0471_HDR.jpg',
            '_DSC0481_HDR.jpg', '_DSC0486.jpg', '_DSC0494_HDR.jpg', '_DSC0505_HDR.jpg',
            '_DSC0510_HDR.jpg', '_DSC0517_HDR.jpg', '_DSC0525_HDR.jpg', '_DSC0530_HDR.jpg',
            '_DSC0538_HDR.jpg', '_DSC0543.jpg', '_DSC0551_HDR.jpg', '_DSC0645_HDR.jpg',
            '_DSC0684_HDR.jpg', '_DSC0696_HDR.jpg', '_DSC0731_HDR.jpg', '_DSC0741_HDR.jpg',
            '_DSC0746_HDR.jpg', '_DSC0752_HDR.jpg', '_DSC0773_HDR.jpg', '_DSC0781_HDR.jpg',
            '_DSC0788_HDR.jpg', '_DSC0795_HDR.jpg', '_DSC0801_HDR.jpg', '_DSC0807_HDR.jpg',
            '_DSC0815_HDR.jpg', '_DSC0831_HDR.jpg', '_DSC0850_HDR.jpg', '_DSC0885_HDR.jpg',
            '_DSC0899_HDR.jpg', '_DSC0911_HDR.jpg', '_DSC0929_HDR.jpg', '_DSC0957_HDR.jpg',
            '_DSC0966_HDR.jpg', '_DSC0975_HDR.jpg', '_DSC1022_HDR.jpg', '_DSC1053_HDR.jpg',
            '_DSC1057_HDR.jpg', '_DSC1105_HDR.jpg', '_DSC1136_HDR.jpg', '_DSC1145_HDR.jpg',
            '_DSC1150_HDR.jpg', '_DSC1160_HDR.jpg', '_DSC1167_HDR.jpg', '_DSC1180_HDR.jpg',
            '_DSC1275_HDR-2.jpg', '_DSC1282_HDR.jpg', '_DSC1297_HDR.jpg', '_DSC1322_HDR.jpg'
        ];
        
        // Shorter subset for development/testing if needed
        // const images = images.slice(0, 30);
        
        // Update the initialization code
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                // Show loader
                const loader = document.getElementById('loader');
                const loaderText = loader.querySelector('.loader-text');
                
                // Load images with progress tracking
                await loadGalleryWithProgress((progress) => {
                    loaderText.textContent = `Loading Thailand Gallery... ${Math.round(progress)}%`;
                });
                
                // Initialize components
                initGlide();
                setupControls();
                
                // Hide loader with slight delay for smooth transition
                setTimeout(() => {
                    loader.classList.add('hidden');
                }, 500);
                
            } catch (error) {
                console.error('Gallery initialization failed:', error);
                document.getElementById('loader').innerHTML = 
                    '<div class="error-message">Failed to load gallery. Please refresh the page.</div>';
            }
        });

        // Add new loading function with progress tracking
        async function loadGalleryWithProgress(onProgress) {
            const mainSlides = document.getElementById('main-slides');
            const thumbnailSlides = document.getElementById('thumbnail-slides');
            const mainBullets = document.getElementById('main-bullets');
            
            // Clear existing content
            mainSlides.innerHTML = '';
            thumbnailSlides.innerHTML = '';
            mainBullets.innerHTML = '';
            
            // Preload images
            const totalImages = images.length;
            let loadedImages = 0;
            
            const imagePromises = images.map((image, index) => {
                return new Promise((resolve, reject) => {
                    const img = new Image();
                    
                    img.onload = () => {
                        loadedImages++;
                        onProgress((loadedImages / totalImages) * 100);
                        resolve(img);
                    };
                    
                    img.onerror = () => reject(new Error(`Failed to load image: ${image}`));
                    img.src = `images/${image}`;
                });
            });
            
            // Wait for all images to load
            await Promise.all(imagePromises);
            
            // Create gallery elements
            images.forEach((image, index) => {
                // Create main slide
                const mainSlide = document.createElement('li');
                mainSlide.className = 'glide__slide';
                
                const img = document.createElement('img');
                img.src = `images/${image}`;
                img.alt = `Thailand photo ${index + 1}`;
                img.setAttribute('loading', 'lazy');
                
                const imageInfo = document.createElement('div');
                imageInfo.className = 'image-info';
                imageInfo.innerHTML = `<span class="image-counter">Photo ${index + 1} of ${images.length}</span>`;
                
                mainSlide.appendChild(img);
                mainSlide.appendChild(imageInfo);
                mainSlides.appendChild(mainSlide);
                
                // Create thumbnail
                const thumbSlide = document.createElement('li');
                thumbSlide.className = 'glide__slide';
                thumbSlide.dataset.index = index;
                
                const thumbImg = document.createElement('img');
                thumbImg.src = `images/${image}`;
                thumbImg.alt = `Thumbnail ${index + 1}`;
                thumbImg.setAttribute('loading', 'lazy');
                
                thumbSlide.appendChild(thumbImg);
                thumbnailSlides.appendChild(thumbSlide);
                
                // Create bullet
                const bullet = document.createElement('button');
                bullet.className = 'glide__bullet';
                bullet.setAttribute('data-glide-dir', `=${index}`);
                mainBullets.appendChild(bullet);
            });
        }
        
        // Initialize Glide carousels
        function initGlide() {
            // Main carousel
            const mainCarousel = new Glide('#main-carousel', {
                type: 'carousel',
                startAt: 0,
                perView: 1,
                gap: 0,
                animationDuration: 600,
                animationTimingFunc: 'cubic-bezier(0.165, 0.840, 0.440, 1.000)',
                touchRatio: 0.5,
                keyboard: true
            });
            
            // Thumbnails carousel
            const thumbnailsCarousel = new Glide('#thumbnails-carousel', {
                type: 'slider',
                startAt: 0,
                perView: 8,
                gap: 10,
                focusAt: 'center',
                breakpoints: {
                    1200: { perView: 7 },
                    992: { perView: 6 },
                    768: { perView: 5 },
                    576: { perView: 4 },
                    400: { perView: 3 }
                }
            });
            
            // Sync the carousels
            mainCarousel.on('run.before', function() {
                thumbnailsCarousel.update({
                    startAt: mainCarousel.index
                });
            });
            
            mainCarousel.on('move.after', function() {
                updateActiveThumbnail(mainCarousel.index);
            });
            
            // Mount the carousels
            mainCarousel.mount();
            thumbnailsCarousel.mount();
            
            // Store carousel instances globally
            window.mainCarousel = mainCarousel;
            window.thumbnailsCarousel = thumbnailsCarousel;
            
            // Setup thumbnail click events
            setupThumbnailClicks();
        }
        
        // Setup thumbnail click events
        function setupThumbnailClicks() {
            const thumbnails = document.querySelectorAll('#thumbnail-slides .glide__slide');
            
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function() {
                    const index = parseInt(this.dataset.index);
                    window.mainCarousel.go(`=${index}`);
                    updateActiveThumbnail(index);
                });
            });
        }
        
        // Update active thumbnail
        function updateActiveThumbnail(index) {
            const thumbnails = document.querySelectorAll('#thumbnail-slides .glide__slide');
            
            thumbnails.forEach(thumbnail => {
                thumbnail.classList.remove('glide__slide--active');
                
                if (parseInt(thumbnail.dataset.index) === index) {
                    thumbnail.classList.add('glide__slide--active');
                }
            });
        }
        
        // Setup control buttons
        function setupControls() {
            // Fullscreen button
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const galleryContainer = document.getElementById('gallery-container');
            
            fullscreenBtn.addEventListener('click', function() {
                galleryContainer.classList.toggle('fullscreen-mode');
                
                if (galleryContainer.classList.contains('fullscreen-mode')) {
                    this.innerHTML = '<i class="fas fa-compress"></i>';
                    
                    if (galleryContainer.requestFullscreen) {
                        galleryContainer.requestFullscreen();
                    } else if (galleryContainer.webkitRequestFullscreen) {
                        galleryContainer.webkitRequestFullscreen();
                    } else if (galleryContainer.msRequestFullscreen) {
                        galleryContainer.msRequestFullscreen();
                    }
                } else {
                    this.innerHTML = '<i class="fas fa-expand"></i>';
                    
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen();
                    }
                }
                
                // Refresh Glide instances after resize
                setTimeout(() => {
                    window.mainCarousel.update();
                    window.thumbnailsCarousel.update();
                }, 300);
            });
            
            // Autoplay button
            const autoplayBtn = document.getElementById('autoplay-btn');
            let isPlaying = false;
            let autoplayInterval;
            
            autoplayBtn.addEventListener('click', function() {
                if (isPlaying) {
                    clearInterval(autoplayInterval);
                    this.innerHTML = '<i class="fas fa-play"></i>';
                    isPlaying = false;
                } else {
                    autoplayInterval = setInterval(() => {
                        window.mainCarousel.go('>');
                    }, 3000);
                    this.innerHTML = '<i class="fas fa-pause"></i>';
                    isPlaying = true;
                }
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft') {
                    window.mainCarousel.go('<');
                } else if (e.key === 'ArrowRight') {
                    window.mainCarousel.go('>');
                } else if (e.key === 'Escape' && galleryContainer.classList.contains('fullscreen-mode')) {
                    fullscreenBtn.click();
                }
            });
        }
    </script>
</body>
</html>
